---
const handleSubmit = async (event) => {
  event.preventDefault();

  const form = event.target;
  const data = {
    name: form.name.value,
    email: form.email.value,
    artwork_title: form.artwork_title.value,
  };

  const response = await fetch("https://my-pocketbase-deploy-production.up.railway.app/api/collections/artists/records", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data),
  });

  if (response.ok) {
    alert("Submitted successfully!");
  } else {
    const error = await response.json();
    alert("Error: " + error.message);
  }
};
---
<html>
  <body>
    <h1>Submit your work</h1>
    <form on:submit={handleSubmit}>
      <label>
        Name:
        <input type="text" name="name" required />
      </label>
      <label>
        Email:
        <input type="email" name="email" required />
      </label>
      <label>
        Artwork Title:
        <input type="text" name="artwork_title" required />
      </label>
      <button type="submit">Submit</button>
    </form>
  </body>
</html>
